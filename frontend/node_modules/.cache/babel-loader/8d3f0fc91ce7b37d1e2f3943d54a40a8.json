{"ast":null,"code":"import _slicedToArray from\"C:/Users/Captain/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{listOrders,deleteOrder}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrdersScreen(props){var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error;var _useState=useState([]),_useState2=_slicedToArray(_useState,1),orders=_useState2[0];var orderDelete=useSelector(function(state){return state.orderDelete;});var loadingDelete=orderDelete.loading,successDelete=orderDelete.success,errorDelete=orderDelete.error;var dispatch=useDispatch();useEffect(function(){dispatch(listOrders());return function(){//\n};},[successDelete]);var deleteHandler=function deleteHandler(order){dispatch(deleteOrder(order._id));};return loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"content content-margined\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Orders\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"order-list\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID AT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED AT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt}),/*#__PURE__*/_jsx(\"td\",{children:order.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid.toString()}),/*#__PURE__*/_jsx(\"td\",{children:order.paidAt}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered.toString()}),/*#__PURE__*/_jsx(\"td\",{children:order.deliveredAt}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/order/\"+order._id,className:\"button secondary\",children:\"Details\"}),' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return deleteHandler(order);},className:\"button secondary\",children:\"Delete\"})]})]},order._id);})})]})})]});}export default OrdersScreen;","map":{"version":3,"sources":["C:/Users/Captain/ecommerce/frontend/src/screens/OrdersScreen.js"],"names":["React","useEffect","useState","Link","useSelector","useDispatch","listOrders","deleteOrder","OrdersScreen","props","orderList","state","loading","error","orders","orderDelete","loadingDelete","successDelete","success","errorDelete","dispatch","deleteHandler","order","_id","map","createdAt","totalPrice","user","name","isPaid","toString","paidAt","isDelivered","deliveredAt"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,yBAAxC,C,wFAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B,GAAMC,CAAAA,SAAS,CAAGN,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAV,EAAN,CAA7B,CAD2B,GAEnBE,CAAAA,OAFmB,CAEAF,SAFA,CAEnBE,OAFmB,CAEVC,KAFU,CAEAH,SAFA,CAEVG,KAFU,eAGZX,QAAQ,CAAC,EAAD,CAHI,wCAGpBY,MAHoB,eAI3B,GAAMC,CAAAA,WAAW,CAAGX,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACI,WAAV,EAAN,CAA/B,CAJ2B,GAKVC,CAAAA,aALU,CAKoDD,WALpD,CAKnBH,OALmB,CAKcK,aALd,CAKoDF,WALpD,CAKKG,OALL,CAKoCC,WALpC,CAKoDJ,WALpD,CAK6BF,KAL7B,CAO3B,GAAMO,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAACd,UAAU,EAAX,CAAR,CACA,MAAO,WAAM,CACX;AACD,CAFD,CAGD,CALQ,CAKN,CAACW,aAAD,CALM,CAAT,CAOA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BF,QAAQ,CAACb,WAAW,CAACe,KAAK,CAACC,GAAP,CAAZ,CAAR,CACD,CAFD,CAGA,MAAOX,CAAAA,OAAO,cAAG,mCAAH,cACZ,aAAK,SAAS,CAAC,0BAAf,wBAEE,YAAK,SAAS,CAAC,cAAf,uBACE,8BADF,EAFF,cAKE,YAAK,SAAS,CAAC,YAAf,uBAEE,eAAO,SAAS,CAAC,OAAjB,wBACE,oCACE,mCACE,0BADF,cAEE,4BAFF,cAGE,6BAHF,cAIE,4BAJF,cAKE,4BALF,cAME,+BANF,cAOE,iCAPF,cAQE,oCARF,cASE,+BATF,GADF,EADF,cAcE,uBACGE,MAAM,CAACU,GAAP,CAAW,SAAAF,KAAK,qBAAK,mCACpB,oBAAKA,KAAK,CAACC,GAAX,EADoB,cAEpB,oBAAKD,KAAK,CAACG,SAAX,EAFoB,cAGpB,oBAAKH,KAAK,CAACI,UAAX,EAHoB,cAIpB,oBAAKJ,KAAK,CAACK,IAAN,CAAWC,IAAhB,EAJoB,cAKpB,oBAAKN,KAAK,CAACO,MAAN,CAAaC,QAAb,EAAL,EALoB,cAMpB,oBAAKR,KAAK,CAACS,MAAX,EANoB,cAOpB,oBAAKT,KAAK,CAACU,WAAN,CAAkBF,QAAlB,EAAL,EAPoB,cAQpB,oBAAKR,KAAK,CAACW,WAAX,EARoB,cASpB,mCACE,KAAC,IAAD,EAAM,EAAE,CAAE,UAAYX,KAAK,CAACC,GAA5B,CAAiC,SAAS,CAAC,kBAA3C,qBADF,CAEG,GAFH,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMF,CAAAA,aAAa,CAACC,KAAD,CAAnB,EAA/B,CAA2D,SAAS,CAAC,kBAArE,oBAHF,GAToB,GAASA,KAAK,CAACC,GAAf,CAAL,EAAhB,CADH,EAdF,GAFF,EALF,GADF,CA2CD,CACD,cAAef,CAAAA,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listOrders, deleteOrder } from '../actions/orderActions';\r\n\r\nfunction OrdersScreen(props) {\r\n  const orderList = useSelector(state => state.orderList);\r\n  const { loading, error } = orderList;\r\n  const [orders]=useState([]);\r\n  const orderDelete = useSelector(state => state.orderDelete);\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(listOrders());\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successDelete]);\r\n\r\n  const deleteHandler = (order) => {\r\n    dispatch(deleteOrder(order._id));\r\n  }\r\n  return loading ? <div>Loading...</div> :\r\n    <div className=\"content content-margined\">\r\n\r\n      <div className=\"order-header\">\r\n        <h3>Orders</h3>\r\n      </div>\r\n      <div className=\"order-list\">\r\n\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>USER</th>\r\n              <th>PAID</th>\r\n              <th>PAID AT</th>\r\n              <th>DELIVERED</th>\r\n              <th>DELIVERED AT</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (<tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{order.createdAt}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid.toString()}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td>{order.isDelivered.toString()}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\r\n                {' '}\r\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\r\n              </td>\r\n            </tr>))}\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    </div>\r\n}\r\nexport default OrdersScreen;"]},"metadata":{},"sourceType":"module"}