{"ast":null,"code":"import _slicedToArray from\"C:/Users/Captain/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{listProducts}from'../actions/productActions';import Rating from'../components/Rating';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function HomeScreen(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchKeyword=_useState2[0],setSearchKeyword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sortOrder=_useState4[0],setSortOrder=_useState4[1];var category=props.match.params.id?props.match.params.id:'';var productList=useSelector(function(state){return state.productList;});var products=productList.products,loading=productList.loading,error=productList.error;var dispatch=useDispatch();useEffect(function(){dispatch(listProducts(category));return function(){//\n};},[category]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(listProducts(category,searchKeyword,sortOrder));};var sortHandler=function sortHandler(e){setSortOrder(e.target.value);dispatch(listProducts(category,searchKeyword,sortOrder));};return/*#__PURE__*/_jsxs(_Fragment,{children:[category&&/*#__PURE__*/_jsx(\"h2\",{children:category}),/*#__PURE__*/_jsxs(\"ul\",{className:\"filter\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"input\",{name:\"searchKeyword\",onChange:function onChange(e){return setSearchKeyword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]})}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Sort By\",' ',/*#__PURE__*/_jsxs(\"select\",{name:\"sortOrder\",onChange:sortHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Newest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lowest\",children:\"Lowest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"highest\",children:\"Highest\"})]})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsx(\"ul\",{className:\"products\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:/*#__PURE__*/_jsx(\"img\",{className:\"product-image\",src:product.image,alt:\"product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-brand\",children:product.brand}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-rating\",children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:product.numReviews+' reviews'})})]})},product._id);})})]});}export default HomeScreen;","map":{"version":3,"sources":["C:/Users/Captain/ecommerce/frontend/src/screens/HomeScreen.js"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","listProducts","Rating","HomeScreen","props","searchKeyword","setSearchKeyword","sortOrder","setSortOrder","category","match","params","id","productList","state","products","loading","error","dispatch","submitHandler","e","preventDefault","sortHandler","target","value","map","product","_id","image","name","brand","price","rating","numReviews"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport Rating from '../components/Rating';\r\n\r\nfunction HomeScreen(props) {\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('');\r\n  const category = props.match.params.id ? props.match.params.id : '';\r\n  const productList = useSelector((state) => state.productList);\r\n  const { products, loading, error } = productList;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listProducts(category));\r\n\r\n    return () => {\r\n      //\r\n    };\r\n  }, [category]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(listProducts(category, searchKeyword, sortOrder));\r\n  };\r\n  const sortHandler = (e) => {\r\n    setSortOrder(e.target.value);\r\n    dispatch(listProducts(category, searchKeyword, sortOrder));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {category && <h2>{category}</h2>}\r\n\r\n      <ul className=\"filter\">\r\n        <li>\r\n          <form onSubmit={submitHandler}>\r\n            <input\r\n              name=\"searchKeyword\"\r\n              onChange={(e) => setSearchKeyword(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Search</button>\r\n          </form>\r\n        </li>\r\n        <li>\r\n          Sort By{' '}\r\n          <select name=\"sortOrder\" onChange={sortHandler}>\r\n            <option value=\"\">Newest</option>\r\n            <option value=\"lowest\">Lowest</option>\r\n            <option value=\"highest\">Highest</option>\r\n          </select>\r\n        </li>\r\n      </ul>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        <ul className=\"products\">\r\n          {products.map((product) => (\r\n            <li key={product._id}>\r\n              <div className=\"product\">\r\n                <Link to={'/product/' + product._id}>\r\n                  <img\r\n                    className=\"product-image\"\r\n                    src={product.image}\r\n                    alt=\"product\"\r\n                  />\r\n                </Link>\r\n                <div className=\"product-name\">\r\n                  <Link to={'/product/' + product._id}>{product.name}</Link>\r\n                </div>\r\n                <div className=\"product-brand\">{product.brand}</div>\r\n                <div className=\"product-price\">${product.price}</div>\r\n                <div className=\"product-rating\">\r\n                  <Rating\r\n                    value={product.rating}\r\n                    text={product.numReviews + ' reviews'}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default HomeScreen;"]},"metadata":{},"sourceType":"module"}