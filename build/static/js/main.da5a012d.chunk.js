(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{49:function(e,t,c){},50:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(2),s=c(19),i=c.n(s),d=(c(49),c(5)),l=c(8),o=(c(50),c(3)),j=c(4),u=c.n(j),b=c(9),h="PRODUCT_LIST_REQUEST",p="PRODUCT_LIST_SUCCESS",O="PRODUCT_LIST_FAIL",x="PRODUCT_DETAILS_REQUEST",m="PRODUCT_DETAILS_SUCCESS",v="PRODUCT_DETAILS_FAIL",f="PRODUCT_SAVE_REQUEST",y="PRODUCT_SAVE_SUCCESS",g="PRODUCT_SAVE_FAIL",S="PRODUCT_DELETE_REQUEST",E="PRODUCT_DELETE_SUCCESS",N="PRODUCT_DELETE_FAIL",_="PRODUCT_REVIEW_SAVE_REQUEST",C="PRODUCT_REVIEW_SAVE_SUCCESS",I="PRODUCT_REVIEW_SAVE_FAIL",w="PRODUCT_REVIEW_SAVE_RESET",R=c(7),D=c.n(R),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var r=Object(b.a)(u.a.mark((function r(n){var a,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:h}),r.next=4,D.a.get("/api/products?category="+e+"&searchKeyword="+t+"&sortOrder="+c);case 4:a=r.sent,s=a.data,n({type:p,payload:s}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:O,payload:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},T=c(0);function A(e){return e.value?Object(T.jsxs)("div",{className:"rating",children:[Object(T.jsx)("span",{children:Object(T.jsx)("i",{className:e.value>=1?"fa fa-star":e.value>=.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(T.jsx)("span",{children:Object(T.jsx)("i",{className:e.value>=2?"fa fa-star":e.value>=1.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(T.jsx)("span",{children:Object(T.jsx)("i",{className:e.value>=3?"fa fa-star":e.value>=2.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(T.jsx)("span",{children:Object(T.jsx)("i",{className:e.value>=4?"fa fa-star":e.value>=3.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(T.jsx)("span",{children:Object(T.jsx)("i",{className:e.value>=5?"fa fa-star":e.value>=4.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(T.jsx)("span",{children:e.text?e.text:""})]}):Object(T.jsx)("div",{})}var P=function(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),l=Object(o.a)(i,2),j=l[0],u=l[1],b=e.match.params.id?e.match.params.id:"",h=Object(a.c)((function(e){return e.productList})),p=h.products,O=h.loading,x=h.error,m=Object(a.b)();return Object(r.useEffect)((function(){return m(k(b)),function(){}}),[b]),Object(T.jsxs)(T.Fragment,{children:[b&&Object(T.jsx)("h2",{children:b}),Object(T.jsxs)("ul",{className:"filter",children:[Object(T.jsx)("li",{children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(k(b,n,j))},children:[Object(T.jsx)("input",{name:"searchKeyword",onChange:function(e){return s(e.target.value)}}),Object(T.jsx)("button",{type:"submit",children:"Search"})]})}),Object(T.jsxs)("li",{children:["Sort By"," ",Object(T.jsxs)("select",{name:"sortOrder",onChange:function(e){u(e.target.value),m(k(b,n,j))},children:[Object(T.jsx)("option",{value:"",children:"Newest"}),Object(T.jsx)("option",{value:"lowest",children:"Lowest"}),Object(T.jsx)("option",{value:"highest",children:"Highest"})]})]})]}),O?Object(T.jsx)("div",{children:"Loading..."}):x?Object(T.jsx)("div",{children:x}):Object(T.jsx)("ul",{className:"products",children:p.map((function(e){return Object(T.jsx)("li",{children:Object(T.jsxs)("div",{className:"product",children:[Object(T.jsx)(d.b,{to:"/product/"+e._id,children:Object(T.jsx)("img",{className:"product-image",src:e.image,alt:"product"})}),Object(T.jsx)("div",{className:"product-name",children:Object(T.jsx)(d.b,{to:"/product/"+e._id,children:e.name})}),Object(T.jsx)("div",{className:"product-brand",children:e.brand}),Object(T.jsxs)("div",{className:"product-price",children:["$",e.price]}),Object(T.jsx)("div",{className:"product-rating",children:Object(T.jsx)(A,{value:e.rating,text:e.numReviews+" reviews"})})]})},e._id)}))})]})},U=c(20);var L=function(e){var t=Object(r.useState)(1),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(0),l=Object(o.a)(i,2),j=l[0],h=l[1],p=Object(r.useState)(""),O=Object(o.a)(p,2),f=O[0],y=O[1],g=Object(a.c)((function(e){return e.userSignin})).userInfo,S=Object(a.c)((function(e){return e.productDetails})),E=S.product,N=S.loading,R=S.error,k=Object(a.c)((function(e){return e.productReviewSave})).success,P=Object(a.b)();return Object(r.useEffect)((function(){var t;return k&&(alert("Review submitted successfully."),h(0),y(""),P({type:w})),P((t=e.match.params.id,function(){var e=Object(b.a)(u.a.mark((function e(c){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:x,payload:t}),e.next=4,D.a.get("/api/products/"+t);case 4:r=e.sent,n=r.data,c({type:m,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:v,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[k]),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"back-to-result",children:Object(T.jsx)(d.b,{to:"/",children:"Back to result"})}),N?Object(T.jsx)("div",{children:"Loading..."}):R?Object(T.jsxs)("div",{children:[R," "]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"details",children:[Object(T.jsx)("div",{className:"details-image",children:Object(T.jsx)("img",{src:E.image,alt:"product"})}),Object(T.jsx)("div",{className:"details-info",children:Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:Object(T.jsx)("h4",{children:E.name})}),Object(T.jsx)("li",{children:Object(T.jsx)("a",{href:"#reviews",children:Object(T.jsx)(A,{value:E.rating,text:E.numReviews+" reviews"})})}),Object(T.jsxs)("li",{children:["Price: ",Object(T.jsxs)("b",{children:["$",E.price]})]}),Object(T.jsxs)("li",{children:["Description:",Object(T.jsx)("div",{children:E.description})]})]})}),Object(T.jsx)("div",{className:"details-action",children:Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:["Price: ",E.price]}),Object(T.jsxs)("li",{children:["Status:"," ",E.countInStock>0?"In Stock":"Unavailable."]}),Object(T.jsxs)("li",{children:["Qty:"," ",Object(T.jsx)("select",{value:n,onChange:function(e){s(e.target.value)},children:Object(U.a)(Array(E.countInStock).keys()).map((function(e){return Object(T.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(T.jsx)("li",{children:E.countInStock>0&&Object(T.jsx)("button",{onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+n)},className:"button primary",children:"Add to Cart"})})]})})]}),Object(T.jsxs)("div",{className:"content-margined",children:[Object(T.jsx)("h2",{children:"Reviews"}),!E.reviews.length&&Object(T.jsx)("div",{children:"There is no review"}),Object(T.jsxs)("ul",{className:"review",id:"reviews",children:[E.reviews.map((function(e){return Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:e.name}),Object(T.jsx)("div",{children:Object(T.jsx)(A,{value:e.rating})}),Object(T.jsx)("div",{children:e.createdAt.substring(0,10)}),Object(T.jsx)("div",{children:e.comment})]},e._id)})),Object(T.jsxs)("li",{children:[Object(T.jsx)("h3",{children:"Write a customer review"}),g?Object(T.jsx)("form",{onSubmit:function(t){var c,r;t.preventDefault(),P((c=e.match.params.id,r={name:g.name,rating:j,comment:f},function(){var e=Object(b.a)(u.a.mark((function e(t,n){var a,s,i,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n(),s=a.userSignin.userInfo.token,t({type:_,payload:r}),e.next=5,D.a.post("/api/products/".concat(c,"/reviews"),r,{headers:{Authorization:"Bearer "+s}});case 5:i=e.sent,d=i.data,t({type:C,payload:d}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:I,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(T.jsxs)("select",{name:"rating",id:"rating",value:j,onChange:function(e){return h(e.target.value)},children:[Object(T.jsx)("option",{value:"1",children:"1- Poor"}),Object(T.jsx)("option",{value:"2",children:"2- Fair"}),Object(T.jsx)("option",{value:"3",children:"3- Good"}),Object(T.jsx)("option",{value:"4",children:"4- Very Good"}),Object(T.jsx)("option",{value:"5",children:"5- Excelent"})]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(T.jsx)("textarea",{name:"comment",value:f,onChange:function(e){return y(e.target.value)}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:"Submit"})})]})}):Object(T.jsxs)("div",{children:["Please ",Object(T.jsx)(d.b,{to:"/signin",children:"Sign-in"})," to write a review."]})]})]})]})]})]})},F=c(15),M=c.n(F),B="CART_ADD_ITEM",Q="CART_REMOVE_ITEM",V="CART_SAVE_SHIPPING",$="CART_SAVE_PAYMENT",z=function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(r,n){var a,s,i,d;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,D.a.get("/api/products/"+e);case 3:a=c.sent,s=a.data,r({type:B,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),i=n(),d=i.cart.cartItems,M.a.set("cartItems",JSON.stringify(d)),c.next=12;break;case 10:c.prev=10,c.t0=c.catch(0);case 12:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e,t){return c.apply(this,arguments)}}()};var q=function(e){var t=Object(a.c)((function(e){return e.cart})).cartItems,c=e.match.params.id,n=e.location.search?Number(e.location.search.split("=")[1]):1,s=Object(a.b)(),i=function(e){s(function(e){return function(t,c){t({type:Q,payload:e});var r=c().cart.cartItems;M.a.set("cartItems",JSON.stringify(r))}}(e))};return Object(r.useEffect)((function(){c&&s(z(c,n))})),Object(T.jsxs)("div",{className:"cart",children:[Object(T.jsx)("div",{className:"cart-list",children:Object(T.jsxs)("ul",{className:"cart-list-container",children:[Object(T.jsxs)("li",{children:[Object(T.jsx)("h3",{children:"Shopping Cart"}),Object(T.jsx)("div",{children:"Price"})]}),0===t.length?Object(T.jsx)("div",{children:"Cart is empty"}):t.map((function(e){return Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{className:"cart-image",children:Object(T.jsx)("img",{src:e.image,alt:"product"})}),Object(T.jsxs)("div",{className:"cart-name",children:[Object(T.jsx)("div",{children:Object(T.jsx)(d.b,{to:"/product"+e.product,children:e.name})}),Object(T.jsxs)("div",{children:["Qty:",Object(T.jsx)("select",{value:e.qty,onChange:function(t){return s(z(e.product,t.target.value))},children:Object(U.a)(Array(e.countInStock).keys()).map((function(e){return Object(T.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(T.jsx)("button",{type:"button",className:"button",onClick:function(){return i(e.product)},children:"Delete"})]})]}),Object(T.jsxs)("div",{className:"cart-price",children:["$",e.price]})]})}))]})}),Object(T.jsxs)("div",{className:"cart-action",children:[Object(T.jsxs)("h3",{children:["Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : $ ",t.reduce((function(e,t){return e+t.price*t.qty}),0)]}),Object(T.jsx)("button",{onClick:function(){e.history.push("/signin?redirect=shipping")},className:"button primary full-width",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},G="USER_SIGNIN_REQUEST",J="USER_SIGNIN_SUCCESS",K="USER_SIGNIN_FAIL",Y="USER_UPDATE_REQUEST",W="USER_UPDATE_SUCCESS",H="USER_UPDATE_FAIL",X="USER_REGISTER_REQUEST",Z="USER_REGISTER_SUCCESS",ee="USER_REGISTER_FAIL",te="USER_LOGOUT";var ce=function(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),l=Object(o.a)(i,2),j=l[0],h=l[1],p=Object(a.c)((function(e){return e.userSignin})),O=p.loading,x=p.userInfo,m=p.error,v=Object(a.b)(),f=e.location.search?e.location.search.split("=")[1]:"/";return Object(r.useEffect)((function(){return x&&e.history.push(f),function(){}}),[x]),Object(T.jsx)("div",{className:"form",children:Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault(),v(function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(r){var n,a;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:G,payload:{email:e,password:t}}),c.prev=1,c.next=4,D.a.post("/api/users/signin",{email:e,password:t});case 4:n=c.sent,a=n.data,r({type:J,payload:a}),M.a.set("userInfo",JSON.stringify(a)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r({type:K,payload:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,j))},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsx)("li",{children:Object(T.jsx)("h2",{children:"Sign-In"})}),Object(T.jsxs)("li",{children:[O&&Object(T.jsx)("div",{children:"Loading..."}),m&&Object(T.jsx)("div",{children:m})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"email",children:"Email"}),Object(T.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return s(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return h(e.target.value)}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:"Signin"})}),Object(T.jsx)("li",{children:"New to kickskenya?"}),Object(T.jsx)("li",{children:Object(T.jsx)(d.b,{to:"/"===f?"register":"register?redirect="+f,className:"button secondary text-center",children:"Create your kickskenya account"})})]})})})};var re=function(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),l=Object(o.a)(i,2),j=l[0],h=l[1],p=Object(r.useState)(""),O=Object(o.a)(p,2),x=O[0],m=O[1],v=Object(r.useState)(""),f=Object(o.a)(v,2),y=(f[0],f[1]),g=Object(a.c)((function(e){return e.userRegister})),S=g.loading,E=g.userInfo,N=g.error,_=Object(a.b)(),C=e.location.search?e.location.search.split("=")[1]:"/";return Object(r.useEffect)((function(){return E&&e.history.push(C),function(){}}),[E]),Object(T.jsx)("div",{className:"form",children:Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault(),_(function(e,t,c){return function(){var r=Object(b.a)(u.a.mark((function r(n){var a,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:X,payload:{name:e,email:t,password:c}}),r.prev=1,r.next=4,D.a.post("/api/users/register",{name:e,email:t,password:c});case 4:a=r.sent,s=a.data,n({type:Z,payload:s}),M.a.set("userInfo",JSON.stringify(s)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),n({type:ee,payload:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}(n,j,x))},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsx)("li",{children:Object(T.jsx)("h2",{children:"Create Account"})}),Object(T.jsxs)("li",{children:[S&&Object(T.jsx)("div",{children:"Loading..."}),N&&Object(T.jsx)("div",{children:N})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"name",children:"Name"}),Object(T.jsx)("input",{type:"name",name:"name",id:"name",onChange:function(e){return s(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"email",children:"Email"}),Object(T.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return h(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return m(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"rePassword",children:"Re-Enter Password"}),Object(T.jsx)("input",{type:"password",id:"rePassword",name:"rePassword",onChange:function(e){return y(e.target.value)}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:"Register"})}),Object(T.jsxs)("li",{children:["Already have an account?",Object(T.jsx)(d.b,{to:"/"===C?"signin":"signin?redirect="+C,className:"button secondary text-center",children:"Sign In"})]})]})})})};var ne=function(e){var t=Object(r.useState)(!1),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),d=Object(o.a)(i,2),l=d[0],j=d[1],h=Object(r.useState)(""),p=Object(o.a)(h,2),O=p[0],x=p[1],m=Object(r.useState)(""),v=Object(o.a)(m,2),_=v[0],C=v[1],I=Object(r.useState)(""),w=Object(o.a)(I,2),R=w[0],A=w[1],P=Object(r.useState)(""),U=Object(o.a)(P,2),L=U[0],F=U[1],M=Object(r.useState)(""),B=Object(o.a)(M,2),Q=B[0],V=B[1],$=Object(r.useState)(""),z=Object(o.a)($,2),q=z[0],G=z[1],J=Object(r.useState)(""),K=Object(o.a)(J,2),Y=K[0],W=K[1],H=Object(r.useState)(!1),X=Object(o.a)(H,2),Z=X[0],ee=X[1],te=Object(a.c)((function(e){return e.productList})),ce=(te.loading,te.products),re=(te.error,Object(a.c)((function(e){return e.productSave}))),ne=re.loading,ae=re.success,se=re.error,ie=Object(a.c)((function(e){return e.productDelete})),de=(ie.loading,ie.success),le=(ie.error,Object(a.b)());Object(r.useEffect)((function(){return ae&&s(!1),le(k()),function(){}}),[ae,de]);var oe=function(e){s(!0),j(e._id),x(e.name),C(e.price),W(e.description),A(e.image),F(e.brand),V(e.category),G(e.countInStock)},je=function(e){var t;le((t=e._id,function(){var e=Object(b.a)(u.a.mark((function e(c,r){var n,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r(),a=n.userSignin.userInfo,c({type:S,payload:t}),e.next=5,D.a.delete("/api/products/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,c({type:E,payload:i,success:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:N,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()))};return Object(T.jsxs)("div",{className:"content content-margined",children:[Object(T.jsxs)("div",{className:"product-header",children:[Object(T.jsx)("h3",{children:"Products"}),Object(T.jsx)("button",{className:"button primary",onClick:function(){return oe({})},children:"Create Product"})]}),n&&Object(T.jsx)("div",{className:"form",children:Object(T.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),le((t={_id:l,name:O,price:_,image:R,brand:L,category:Q,countInStock:q,description:Y},function(){var e=Object(b.a)(u.a.mark((function e(c,r){var n,a,s,i,d,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c({type:f,payload:t}),n=r(),a=n.userSignin.userInfo,t._id){e.next=11;break}return e.next=6,D.a.post("/api/products",t,{headers:{Authorization:"Bearer "+a.token}});case 6:s=e.sent,i=s.data,c({type:y,payload:i}),e.next=16;break;case 11:return e.next=13,D.a.put("/api/products/"+t._id,t,{headers:{Authorization:"Bearer "+a.token}});case 13:d=e.sent,l=d.data,c({type:y,payload:l});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),c({type:g,payload:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsx)("li",{children:Object(T.jsx)("h2",{children:"Create Product"})}),Object(T.jsxs)("li",{children:[ne&&Object(T.jsx)("div",{children:"Loading..."}),se&&Object(T.jsx)("div",{children:se})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"name",children:"Name"}),Object(T.jsx)("input",{type:"text",name:"name",value:O,id:"name",onChange:function(e){return x(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"price",children:"Price"}),Object(T.jsx)("input",{type:"text",name:"price",value:_,id:"price",onChange:function(e){return C(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"image",children:"Image"}),Object(T.jsx)("input",{type:"text",name:"image",value:R,id:"image",onChange:function(e){return A(e.target.value)}}),Object(T.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],c=new FormData;c.append("image",t),ee(!0),D.a.post("/api/uploads",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){A(e.data),ee(!1)})).catch((function(e){console.log(e),ee(!1)}))}}),Z&&Object(T.jsx)("div",{children:"Uploading..."})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(T.jsx)("input",{type:"text",name:"brand",value:L,id:"brand",onChange:function(e){return F(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"countInStock",children:"CountInStock"}),Object(T.jsx)("input",{type:"text",name:"countInStock",value:q,id:"countInStock",onChange:function(e){return G(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"name",children:"Category"}),Object(T.jsx)("input",{type:"text",name:"category",value:Q,id:"category",onChange:function(e){return V(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"description",children:"Description"}),Object(T.jsx)("textarea",{name:"description",value:Y,id:"description",onChange:function(e){return W(e.target.value)}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:l?"Update":"Create"})}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"button",onClick:function(){return s(!1)},className:"button secondary",children:"Back"})})]})})}),Object(T.jsx)("div",{className:"product-list",children:Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"ID"}),Object(T.jsx)("th",{children:"Name"}),Object(T.jsx)("th",{children:"Price"}),Object(T.jsx)("th",{children:"Category"}),Object(T.jsx)("th",{children:"Brand"}),Object(T.jsx)("th",{children:"Action"})]})}),Object(T.jsx)("tbody",{children:ce.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e._id}),Object(T.jsx)("td",{children:e.name}),Object(T.jsx)("td",{children:e.price}),Object(T.jsx)("td",{children:e.category}),Object(T.jsx)("td",{children:e.brand}),Object(T.jsxs)("td",{children:[Object(T.jsx)("button",{className:"button",onClick:function(){return oe(e)},children:"Edit"})," ",Object(T.jsx)("button",{className:"button",onClick:function(){return je(e)},children:"Delete"})]})]},e._id)}))})]})})]})};var ae=function(e){return Object(T.jsxs)("div",{className:"checkout-steps",children:[Object(T.jsx)("div",{className:e.step1?"active":"",children:"Signin"}),Object(T.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(T.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(T.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})};var se=function(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),d=Object(o.a)(i,2),l=d[0],j=d[1],u=Object(r.useState)(""),b=Object(o.a)(u,2),h=b[0],p=b[1],O=Object(r.useState)(""),x=Object(o.a)(O,2),m=x[0],v=x[1],f=Object(a.b)();return Object(T.jsxs)("div",{children:[Object(T.jsx)(ae,{step1:!0,step2:!0}),Object(T.jsx)("div",{className:"form",children:Object(T.jsx)("form",{onSubmit:function(t){var c;t.preventDefault(),f((c={address:n,city:l,postalCode:h,country:m},function(e){e({type:V,payload:c})})),e.history.push("payment")},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsx)("li",{children:Object(T.jsx)("h2",{children:"Shipping"})}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"address",children:"Address"}),Object(T.jsx)("input",{type:"text",name:"address",id:"address",onChange:function(e){return s(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"city",children:"City"}),Object(T.jsx)("input",{type:"text",name:"city",id:"city",onChange:function(e){return j(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(T.jsx)("input",{type:"text",name:"postalCode",id:"postalCode",onChange:function(e){return p(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"country",children:"Country"}),Object(T.jsx)("input",{type:"text",name:"country",id:"country",onChange:function(e){return v(e.target.value)}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})};var ie=function(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(a.b)();return Object(T.jsxs)("div",{children:[Object(T.jsx)(ae,{step1:!0,step2:!0,step3:!0}),Object(T.jsx)("div",{className:"form",children:Object(T.jsx)("form",{onSubmit:function(t){var c;t.preventDefault(),i((c={paymentMethod:n},function(e){e({type:$,payload:c})})),e.history.push("placeorder")},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsx)("li",{children:Object(T.jsx)("h2",{children:"Payment"})}),Object(T.jsx)("li",{children:Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",name:"paymentMethod",id:"paymentMethod",value:"paypal",onChange:function(e){return s(e.target.value)}}),Object(T.jsx)("label",{for:"paymentMethod",children:"Paypal"})]})}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})},de="ORDER_CREATE_REQUEST",le="ORDER_CREATE_SUCCESS",oe="ORDER_CREATE_FAIL",je="ORDER_DETAILS_REQUEST",ue="ORDER_DETAILS_SUCCESS",be="ORDER_DETAILS_FAIL",he="MY_ORDER_LIST_REQUEST",pe="MY_ORDER_LIST_SUCCESS",Oe="MY_ORDER_LIST_FAIL",xe="ORDER_LIST_REQUEST",me="ORDER_LIST_SUCCESS",ve="ORDER_LIST_FAIL",fe="ORDER_PAY_REQUEST",ye="ORDER_PAY_SUCCESS",ge="ORDER_PAY_FAIL",Se="ORDER_DELETE_REQUEST",Ee="ORDER_DELETE_SUCCESS",Ne="ORDER_DELETE_FAIL";var _e=function(e){var t=Object(a.c)((function(e){return e.cart})),c=Object(a.c)((function(e){return e.orderCreate})),n=c.success,s=c.order,i=t.cartItems,l=t.shipping,o=t.payment;l.address?o.paymentMethod||e.history.push("/payment"):e.history.push("/shipping");var j=i.reduce((function(e,t){return e+t.price*t.qty}),0),h=j>100?0:10,p=.15*j,O=j+h+p,x=Object(a.b)();return Object(r.useEffect)((function(){n&&e.history.push("/order/"+s._id)})),Object(T.jsxs)("div",{children:[Object(T.jsx)(ae,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(T.jsxs)("div",{className:"placeorder",children:[Object(T.jsxs)("div",{className:"placeorder-info",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Shipping"}),Object(T.jsxs)("div",{children:[t.shipping.address,", ",t.shipping.city,",",t.shipping.postalCode,", ",t.shipping.country]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Payment"}),Object(T.jsxs)("div",{children:["Payment Method: ",t.payment.paymentMethod]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)("ul",{className:"cart-list-container",children:[Object(T.jsxs)("li",{children:[Object(T.jsx)("h3",{children:"Shopping Cart"}),Object(T.jsx)("div",{children:"Price"})]}),0===i.length?Object(T.jsx)("div",{children:"Cart is empty"}):i.map((function(e){return Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{className:"cart-image",children:Object(T.jsx)("img",{src:e.image,alt:"product"})}),Object(T.jsxs)("div",{className:"cart-name",children:[Object(T.jsx)("div",{children:Object(T.jsx)(d.b,{to:"/product/"+e.product,children:e.name})}),Object(T.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(T.jsxs)("div",{className:"cart-price",children:["$",e.price]})]})}))]})})]}),Object(T.jsx)("div",{className:"placeorder-action",children:Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:Object(T.jsx)("button",{className:"button primary full-width",onClick:function(){x(function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c,r){var n,a,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:de,payload:e}),n=r(),a=n.userSignin.userInfo,t.next=5,D.a.post("/api/orders",e,{headers:{Authorization:" Bearer "+a.token}});case 5:s=t.sent,i=s.data.data,c({type:le,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:oe,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()}({orderItems:i,shipping:l,payment:o,itemsPrice:j,shippingPrice:h,taxPrice:p,totalPrice:O}))},children:"Place Order"})}),Object(T.jsx)("li",{children:Object(T.jsx)("h3",{children:"Order Summary"})}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Items"}),Object(T.jsxs)("div",{children:["$",j]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Shipping"}),Object(T.jsxs)("div",{children:["$",h]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Tax"}),Object(T.jsxs)("div",{children:["$",p]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Order Total"}),Object(T.jsxs)("div",{children:["$",O]})]})]})})]})]})},Ce=c(16);var Ie=function(e){var t=Object(r.useState)(!1),c=Object(o.a)(t,2),a=c[0],s=c[1],d=function(){var e=Object(b.a)(u.a.mark((function e(){var t,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/config/paypal");case 2:t=e.sent,c=t.data,(r=document.createElement("script")).type="text/javascript",r.src="https://www.paypal.com/sdk/js?client-id="+c,r.async=!0,r.onload=function(){s(!0)},document.body.appendChild(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){return window.paypal||d(),function(){}}),[]),!a)return Object(T.jsx)("div",{children:"Loading..."});var l=window.paypal.Buttons.driver("react",{React:n.a,ReactDOM:i.a});return Object(T.jsx)(l,Object(Ce.a)(Object(Ce.a)({},e),{},{createOrder:function(t,c){return function(t,c){return c.order.create({purchase_units:[{amount:{currency_code:"Ksh",value:e.amount}}]})}(0,c)},onApprove:function(t,c){return function(t,c){return c.order.capture().then((function(c){return e.onSuccess(t,c)})).catch((function(e){return console.log(e)}))}(t,c)}}))};var we=function(e){var t=Object(a.c)((function(e){return e.orderPay})),c=t.loading,n=t.success,s=(t.error,Object(a.b)());Object(r.useEffect)((function(){var t;return n?e.history.push("/profile"):s((t=e.match.params.id,function(){var e=Object(b.a)(u.a.mark((function e(c,r){var n,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:je,payload:t}),n=r(),a=n.userSignin.userInfo,e.next=5,D.a.get("/api/orders"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,c({type:ue,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:be,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}())),function(){}}),[n]);var i=Object(a.c)((function(e){return e.detailsOrder})),l=i.loading,o=i.order,j=i.error;return l?Object(T.jsx)("div",{children:"Loading ..."}):j?Object(T.jsx)("div",{children:j}):Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"placeorder",children:[Object(T.jsxs)("div",{className:"placeorder-info",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Shipping"}),Object(T.jsxs)("div",{children:[o.shipping.address,", ",o.shipping.city,",",o.shipping.postalCode,", ",o.shipping.country,","]}),Object(T.jsx)("div",{children:o.isDelivered?"Delivered at "+o.deliveredAt:"Not Delivered."})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Payment"}),Object(T.jsxs)("div",{children:["Payment Method: ",o.payment.paymentMethod]}),Object(T.jsx)("div",{children:o.isPaid?"Paid at "+o.paidAt:"Not Paid."})]}),Object(T.jsx)("div",{children:Object(T.jsxs)("ul",{className:"cart-list-container",children:[Object(T.jsxs)("li",{children:[Object(T.jsx)("h3",{children:"Shopping Cart"}),Object(T.jsx)("div",{children:"Price"})]}),0===o.orderItems.length?Object(T.jsx)("div",{children:"Cart is empty"}):o.orderItems.map((function(e){return Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{className:"cart-image",children:Object(T.jsx)("img",{src:e.image,alt:"product"})}),Object(T.jsxs)("div",{className:"cart-name",children:[Object(T.jsx)("div",{children:Object(T.jsx)(d.b,{to:"/product/"+e.product,children:e.name})}),Object(T.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(T.jsxs)("div",{className:"cart-price",children:["$",e.price]})]},e._id)}))]})})]}),Object(T.jsx)("div",{className:"placeorder-action",children:Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{className:"placeorder-actions-payment",children:[c&&Object(T.jsx)("div",{children:"Finishing Payment..."}),!o.isPaid&&Object(T.jsx)(Ie,{amount:o.totalPrice,onSuccess:function(e){s(function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(r,n){var a,s,i,d;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:fe,payload:t}),a=n(),s=a.userSignin.userInfo,c.next=5,D.a.put("/api/orders/"+e._id+"/pay",t,{headers:{Authorization:"Bearer "+s.token}});case 5:i=c.sent,d=i.data,r({type:ye,payload:d}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),r({type:ge,payload:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e,t){return c.apply(this,arguments)}}()}(o,e))}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("h3",{children:"Order Summary"})}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Items"}),Object(T.jsxs)("div",{children:["$",o.itemsPrice]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Shipping"}),Object(T.jsxs)("div",{children:["$",o.shippingPrice]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Tax"}),Object(T.jsxs)("div",{children:["$",o.taxPrice]})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("div",{children:"Order Total"}),Object(T.jsxs)("div",{children:["$",o.totalPrice]})]})]})})]})})};var Re=function(e){var t=Object(r.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(r.useState)(""),l=Object(o.a)(i,2),j=l[0],h=l[1],p=Object(r.useState)(""),O=Object(o.a)(p,2),x=O[0],m=O[1],v=Object(r.useState)([]),f=Object(o.a)(v,2),y=f[0],g=f[1],S=Object(a.b)(),E=Object(a.c)((function(e){return e.userSignin})).userInfo,N=Object(a.c)((function(e){return e.userUpdate})),_=N.loading,C=N.success,I=N.error,w=Object(a.c)((function(e){return e.myOrderList}));console.log(w);var R=w.loading,k=w.error;return Object(r.useEffect)((function(){return E&&(console.log(E.name),m(E.email),s(E.name),h(E.password),g(w.order)),S(function(){var e=Object(b.a)(u.a.mark((function e(t,c){var r,n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:he}),r=c(),n=r.userSignin.userInfo,e.next=5,D.a.get("/api/orders/mine",{headers:{Authorization:"Bearer "+n.token}});case 5:a=e.sent,s=a.data,t({type:pe,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:Oe,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()),function(){}}),[E]),Object(T.jsxs)("div",{className:"profile",children:[Object(T.jsx)("div",{className:"profile-info",children:Object(T.jsx)("div",{className:"form",children:Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault(),S(function(e){var t=e.userId,c=e.name,r=e.email,n=e.password;return function(){var e=Object(b.a)(u.a.mark((function e(a,s){var i,d,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s(),d=i.userSignin.userInfo,a({type:Y,payload:{userId:t,name:c,email:r,password:n}}),e.prev=2,e.next=5,D.a.put("/api/users/"+t,{name:c,email:r,password:n},{headers:{Authorization:"Bearer "+d.token}});case 5:l=e.sent,o=l.data,a({type:W,payload:o}),M.a.set("userInfo",JSON.stringify(o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),a({type:H,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,c){return e.apply(this,arguments)}}()}({userId:E._id,email:x,name:n,password:j}))},children:Object(T.jsxs)("ul",{className:"form-container",children:[Object(T.jsx)("li",{children:Object(T.jsx)("h2",{children:"User Profile"})}),Object(T.jsxs)("li",{children:[_&&Object(T.jsx)("div",{children:"Loading..."}),I&&Object(T.jsx)("div",{children:I}),C&&Object(T.jsx)("div",{children:"Profile Saved Successfully."})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"name",children:"Name"}),Object(T.jsx)("input",{value:n,type:"name",name:"name",id:"name",onChange:function(e){return s(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"email",children:"Email"}),Object(T.jsx)("input",{value:x,type:"email",name:"email",id:"email",onChange:function(e){return m(e.target.value)}})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{value:j,type:"password",id:"password",name:"password",onChange:function(e){return h(e.target.value)}})]}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"submit",className:"button primary",children:"Update"})}),Object(T.jsx)("li",{children:Object(T.jsx)("button",{type:"button",onClick:function(){S((function(e){M.a.remove("userInfo"),e({type:te})})),e.history.push("/signin")},className:"button secondary full-width",children:"Logout"})})]})})})}),Object(T.jsx)("div",{className:"profile-orders content-margined",children:R?Object(T.jsx)("div",{children:"Loading..."}):k?Object(T.jsxs)("div",{children:[k," "]}):Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"ID"}),Object(T.jsx)("th",{children:"DATE"}),Object(T.jsx)("th",{children:"TOTAL"}),Object(T.jsx)("th",{children:"PAID"}),Object(T.jsx)("th",{children:"ACTIONS"})]})}),Object(T.jsx)("tbody",{children:y.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e._id}),Object(T.jsx)("td",{children:e.createdAt}),Object(T.jsx)("td",{children:e.totalPrice}),Object(T.jsx)("td",{children:e.isPaid}),Object(T.jsx)("td",{children:Object(T.jsx)(d.b,{to:"/order/"+e._id,children:"DETAILS"})})]})}))})]})})]})};var De=function(e){var t=Object(a.c)((function(e){return e.orderList})),c=t.loading,n=(t.error,Object(r.useState)([])),s=Object(o.a)(n,1)[0],i=Object(a.c)((function(e){return e.orderDelete})),l=(i.loading,i.success),j=(i.error,Object(a.b)());Object(r.useEffect)((function(){return j(function(){var e=Object(b.a)(u.a.mark((function e(t,c){var r,n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:xe}),r=c(),n=r.userSignin.userInfo,e.next=5,D.a.get("/api/orders",{headers:{Authorization:"Bearer "+n.token}});case 5:a=e.sent,s=a.data,t({type:me,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:ve,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()),function(){}}),[l]);var h=function(e){var t;j((t=e._id,function(){var e=Object(b.a)(u.a.mark((function e(c,r){var n,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Se,payload:t}),n=r(),a=n.userSignin.userInfo,e.next=5,D.a.delete("/api/orders/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,c({type:Ee,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Ne,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,c){return e.apply(this,arguments)}}()))};return c?Object(T.jsx)("div",{children:"Loading..."}):Object(T.jsxs)("div",{className:"content content-margined",children:[Object(T.jsx)("div",{className:"order-header",children:Object(T.jsx)("h3",{children:"Orders"})}),Object(T.jsx)("div",{className:"order-list",children:Object(T.jsxs)("table",{className:"table",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"ID"}),Object(T.jsx)("th",{children:"DATE"}),Object(T.jsx)("th",{children:"TOTAL"}),Object(T.jsx)("th",{children:"USER"}),Object(T.jsx)("th",{children:"PAID"}),Object(T.jsx)("th",{children:"PAID AT"}),Object(T.jsx)("th",{children:"DELIVERED"}),Object(T.jsx)("th",{children:"DELIVERED AT"}),Object(T.jsx)("th",{children:"ACTIONS"})]})}),Object(T.jsx)("tbody",{children:s.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e._id}),Object(T.jsx)("td",{children:e.createdAt}),Object(T.jsx)("td",{children:e.totalPrice}),Object(T.jsx)("td",{children:e.user.name}),Object(T.jsx)("td",{children:e.isPaid.toString()}),Object(T.jsx)("td",{children:e.paidAt}),Object(T.jsx)("td",{children:e.isDelivered.toString()}),Object(T.jsx)("td",{children:e.deliveredAt}),Object(T.jsxs)("td",{children:[Object(T.jsx)(d.b,{to:"/order/"+e._id,className:"button secondary",children:"Details"})," ",Object(T.jsx)("button",{type:"button",onClick:function(){return h(e)},className:"button secondary",children:"Delete"})]})]},e._id)}))})]})})]})};var ke=function(){var e=Object(a.c)((function(e){return e.userSignin})).userInfo;return Object(T.jsx)(d.a,{children:Object(T.jsxs)("div",{className:"grid-container",children:[Object(T.jsxs)("header",{className:"header",children:[Object(T.jsxs)("div",{className:"brand",children:[Object(T.jsx)("button",{onClick:function(){document.querySelector(".sidebar").classList.add("open")},children:"\u2630"}),Object(T.jsx)(d.b,{to:"/",children:"Kicks Kenya"})]}),Object(T.jsxs)("div",{className:"header-links",children:[Object(T.jsx)("a",{href:"cart.html",children:"Cart"}),e?Object(T.jsx)(d.b,{to:"/profile",children:e.name}):Object(T.jsx)(d.b,{to:"/signin",children:"Sign In"}),e&&e.isAdmin&&Object(T.jsxs)("div",{className:"dropdown",children:[Object(T.jsx)("a",{href:"#",children:"Admin"}),Object(T.jsx)("ul",{className:"dropdown-content",children:Object(T.jsxs)("li",{children:[Object(T.jsx)(d.b,{to:"/orders",children:"Orders"}),Object(T.jsx)(d.b,{to:"/products",children:"Products"})]})})]})]})]}),Object(T.jsxs)("aside",{className:"sidebar",children:[Object(T.jsx)("h3",{children:"Shopping Categories"}),Object(T.jsx)("button",{className:"sidebar-close-button",onClick:function(){document.querySelector(".sidebar").classList.remove("open")},children:"x"}),Object(T.jsxs)("ul",{className:"categories",children:[Object(T.jsx)("li",{children:Object(T.jsx)(d.b,{to:"/category/Mens Kicks",children:"Mens Kicks"})}),Object(T.jsx)("li",{children:Object(T.jsx)(d.b,{to:"/category/Female Kicks",children:"Female Kicks"})})]})]}),Object(T.jsx)("main",{className:"main",children:Object(T.jsxs)("div",{className:"content",children:[Object(T.jsx)(l.a,{path:"/orders",component:De}),Object(T.jsx)(l.a,{path:"/profile",component:Re}),Object(T.jsx)(l.a,{path:"/order/:id",component:we}),Object(T.jsx)(l.a,{path:"/products",component:ne}),Object(T.jsx)(l.a,{path:"/shipping",component:se}),Object(T.jsx)(l.a,{path:"/payment",component:ie}),Object(T.jsx)(l.a,{path:"/placeorder",component:_e}),Object(T.jsx)(l.a,{path:"/signin",component:ce}),Object(T.jsx)(l.a,{path:"/register",component:re}),Object(T.jsx)(l.a,{path:"/product/:id",component:L}),Object(T.jsx)(l.a,{path:"/cart/:id?",component:q}),Object(T.jsx)(l.a,{path:"/category/:id",component:P}),Object(T.jsx)(l.a,{path:"/",exact:!0,component:P})]})}),Object(T.jsx)("footer",{className:"footer",children:"All right reserved."})]})})},Te=c(17),Ae=c(40);var Pe={cart:{cartItems:M.a.getJSON("cartItems")||[],shipping:{},payment:{}},userSignin:{userInfo:M.a.getJSON("userInfo")||null}},Ue=Object(Te.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0,products:[]};case p:return{loading:!1,products:t.payload};case O:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,product:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{},payment:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}:{cartItems:[].concat(Object(U.a)(e.cartItems),[c])};case Q:return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};case V:return Object(Ce.a)(Object(Ce.a)({},e),{},{shipping:t.payload});case $:return Object(Ce.a)(Object(Ce.a)({},e),{},{payment:t.payload});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case J:return{loading:!1,userInfo:t.payload};case K:return{loading:!1,error:t.payload};case te:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case Z:return{loading:!1,userInfo:t.payload};case ee:return{loading:!1,error:t.payload};default:return e}},productSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case y:return{loading:!1,success:!0,product:t.payload};case g:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case E:return{loading:!1,product:t.payload,success:!0};case N:return{loading:!1,error:t.payload};default:return e}},productReviewSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case C:return{loading:!1,review:t.payload,success:!0};case I:return{loading:!1,errror:t.payload};case w:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case le:return{loading:!1,order:t.payload,success:!0};case oe:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0};case ue:return{loading:!1,order:t.payload,success:!0};case be:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ye:return{loading:!1,order:t.payload,success:!0};case ge:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case W:return{loading:!1,userInfo:t.payload};case H:return{loading:!1,error:t.payload};default:return e}},myOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0};case pe:return{loading:!1,order:t.payload,success:!0};case Oe:return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return{loading:!0};case me:return{loading:!1,order:t.payload,success:!0};case ve:return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{loading:!0};case Ee:return{loading:!1,order:t.payload,success:!0};case Ne:return{loading:!1,error:t.payload};default:return e}}}),Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Te.d,Fe=Object(Te.e)(Ue,Pe,Le(Object(Te.a)(Ae.a)));i.a.render(Object(T.jsx)(d.a,{children:Object(T.jsx)(a.a,{store:Fe,children:Object(T.jsx)(ke,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.da5a012d.chunk.js.map